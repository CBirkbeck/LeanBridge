\subsection{Theta series for an integral lattice}
\begin{definition}\label{lattice.theta}
\uses{lattice.definition,lattice.gram}
The **theta series**, $\Theta_L$, of an {{ KNOWL("lattice.definition", "integral lattice")}} $L$ is the generating function for the number of vectors $v\in L$ of norm $n$, where the norm is defined as $\langle v,v\rangle=v^tAv$ where $A$ is a {{ KNOWL("lattice.gram", "Gram matrix")}} for $L$.

{%if BETA %}

Following the [conventions adopted by Magma](http://magma.maths.usyd.edu.au/magma/handbook/text/314), in order for the theta series to be a modular form on $\Gamma_0(N)$ with $N$ minimal, we define
\[
\Theta_L(z)=\sum_{v\in L}q^{\frac{1}{2}\langle v,v\rangle}
\]
when the norm ideal of $L$ is even, and
\[
\Theta_L(z)=\sum_{v\in L}q^{\langle v,v\rangle}
\]
when the norm ideal of $L$ is odd, where $q=e^{2\pi iz}$ in either case. Then the coefficient of $q^n$ gives the number of vectors in the lattice of norm $n$.
  
{% endif %}
\end{definition}


