\subsection{Sage cell knowl}
\begin{definition}\label{sage.test}
\uses{doc.knowl,sage.cell}
<div id="replaceme">
This is a knowl which produces a Sage Cell Server.  For technical reasons, it
should always be called with at least one parameter such as n=1.  One can specify
sage code to be preloaded into the cell with an argument such as code='2^123'.
</div>

<script type="text/javascript">
  {% if code is defined %}
  initcode = "{{ code }}" ;
  {% else %}
  initcode = "";
  {% endif %}

  {% if language is defined %}
  langs = [ "{{ lang }}" ];
  {% else %}
  langs = sagecell.allLanguages;
  {% endif %}

  if(typeof sagecellknowlcount == "undefined") {
    sagecellknowlcount = 0;
  } else {
    sagecellknowlcount += 1;
  }
  $('#replaceme').replaceWith('<div id="myin'+sagecellknowlcount+'">loading...</div>');
  sagecell.makeSagecell({inputLocation: '#myin'+sagecellknowlcount,
        languages: langs,
        replaceOutput: true,
        code: initcode,
        linked: true,
        autoeval: true,
        hide: ['messages', 'computationID', 'files', 'sageMode','sessionFiles',
               'editorToggle', 'sessionTitle', 'done', 'permalinks'],
        evalButtonText: 'Evaluate',
      })



</script>
This is a Sage cell knowl: a {{ KNOWL("doc.knowl", "knowl")}} which produces a {{ KNOWL("sage.cell", "Sage Cell Server")}}.
\end{definition}


